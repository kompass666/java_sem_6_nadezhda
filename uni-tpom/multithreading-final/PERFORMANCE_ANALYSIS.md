# Анализ производительности приложения

## Общая информация

В рамках итогового задания было выполнено исследование производительности многопоточного Java-приложения (краулера), которое выполняет HTTP-запросы, парсинг HTML-страниц и сохранение данных в базу. Основной целью было научиться собирать метрики, анализировать нагрузку и использовать инструменты профилирования JVM.

---

## Метрики и мониторинг

Для сбора метрик были подключены Spring Boot Actuator и Micrometer с экспортом данных в Prometheus. Реализованы кастомные метрики, отражающие:

* время полной обработки одной страницы,
* количество успешных и ошибочных операций,
* количество сохранённых в базу записей.

Метрики корректно доступны через `/actuator/prometheus` и успешно собираются Prometheus.

---

## Grafana

На основе метрик был создан дашборд Grafana с четырьмя основными панелями:

* Latency p95,
* Latency p99,
* Errors,
* Throughput (success/sec).

Дашборд позволяет наглядно отслеживать задержки, ошибки и общую пропускную способность приложения во времени.

---

## Профилирование CPU

Для анализа загрузки процессора использовался Java Flight Recorder с последующим просмотром записи в JDK Mission Control. В ходе анализа установлено, что основная нагрузка связана с инициализацией Spring-контекста и обработкой HTTP-запросов. Критических узких мест по CPU обнаружено не было.

---

## Потоки и память

Анализ потоков показал стабильную работу `ExecutorService` без блокировок и дедлоков. Использование памяти и сборка мусора происходят в штатном режиме, без частых GC и резких скачков потребления памяти.

---

## Вывод после анализа

В результате проведённого анализа можно сделать вывод, что приложение работает стабильно и предсказуемо под тестовой нагрузкой. Подключение метрик и инструментов профилирования позволило сделать производительность приложения измеримой и упростило диагностику возможных проблем в будущем.
