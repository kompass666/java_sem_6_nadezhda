# Многопоточный парсер контактных данных

## Что делает приложение
Это простой многопоточный веб-краулер.  
Он:

1. Принимает список URL-адресов.
2. Загружает HTML-страницы.
3. Ищет на них:
    - email,
    - телефон,
    - почтовый адрес.
4. Сохраняет результаты в H2-базу.
5. Возвращает данные через REST API.

Для многопоточности используется `ExecutorService`.  
Для парсинга страниц — библиотека Jsoup.  
Есть тестовый эндпоинт, который показывает работу парсера на заранее подготовленном HTML.

---

## Как запустить

1. Открыть проект в IntelliJ IDEA.
2. Убедиться, что используется Java 17+.
3. Запустить класс:


Сервис стартует на порту: http://localhost:8081

---

## Как протестировать

### 1. Проверить, что приложение работает
Открыть: http://localhost:8081/contacts

### 2. Проверить работу парсера (без интернета)
Этот эндпоинт запишет тестовую запись (телефон, email, адрес): http://localhost:8081/debug/test-parse

После вызова посмотрите: http://localhost:8081/contacts

### 3. Запустить реальный краулинг URL

Пример команды:

curl -X POST http://localhost:8081/crawl \
  -H "Content-Type: application/json" \
  -d '{"urls":["https://example.com"]}'

---

Фильтрация результатов (parallelStream)

Показать только записи, у которых есть email:

http://localhost:8081/contacts?hasEmail=true


Показать только записи с телефоном:

http://localhost:8081/contacts?hasPhone=true

---
дополнительно - H2 Console доступна по адресу http://localhost:8081/h2-console
